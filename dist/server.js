!function(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)n.d(t,o,function(r){return e[r]}.bind(null,o));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="/",n(n.s=7)}([function(e,r){e.exports=require("express")},function(e,r){e.exports=require("passport")},function(e,r){e.exports=require("path")},function(e,r,n){var t=n(4),o=t.Schema,s=n(13),i=new o({email:{type:String,required:!0},password:{type:String,required:!0},username:{type:String,required:!0},address:{type:String,required:!0},city:{type:String,required:!0},state:{type:String,required:!0},zipcode:{type:String,required:!0},cart:{type:Object},wishList:{type:Object}});i.methods.encryptPassword=function(e){return s.hashSync(e,s.genSaltSync(5),null)},i.methods.validPassword=function(e){return s.compareSync(e,this.password)},e.exports=t.model("User",i)},function(e,r){e.exports=require("mongoose")},function(e,r,n){var t=n(2),o=n(8),s=n(9),i=n(10);e.exports={entry:{main:["webpack-hot-middleware/client?path=/__webpack_hmr&timeout=20000&quiet=true","./src/index.js"]},output:{path:t.join(__dirname,"dist"),publicPath:"/",filename:"[name].js"},mode:"development",target:"web",devtool:"#source-map",module:{rules:[{enforce:"pre",test:/\.js$/,exclude:/node_modules/,loader:"eslint-loader",options:{emitWarning:!0,failOnError:!1,failOnWarning:!1}},{test:/\.js$/,exclude:/node_modules/,loader:"babel-loader"},{test:/\.html$/,use:[{loader:"html-loader"}]},{test:/\.css$/,use:["style-loader","css-loader"]},{test:/\.(png|svg|jpg|gif)$/,use:["file-loader"]}]},devServer:{noInfo:!0,historyApiFallback:!0,proxy:{"/search":{target:"https://api-v3.igdb.com",ws:!1,changeOrigin:!0,logLevel:"debug",onProxyRes:function(e,r,n){e.headers["Allow-Access-Control-Origin"]="*"},onProxyReq:function(e,r,n){e.setHeader("Allow-Access-Control-Origin","*")}},"/games":{target:"https://api-v3.igdb.com",ws:!1,changeOrigin:!0,logLevel:"debug",onProxyRes:function(e,r,n){e.headers["Allow-Access-Control-Origin"]="*"},onProxyReq:function(e,r,n){e.setHeader("Allow-Access-Control-Origin","*")}}}},plugins:[new s({template:"./src/html/index.html",filename:"./index.html",excludeChunks:["server"]}),new o.HotModuleReplacementPlugin,new o.NoEmitOnErrorsPlugin,new i({path:".env.development",safe:!0,systemvars:!0,silent:!0,defaults:!1})]}},function(e,r){e.exports=require("http-proxy-middleware")},function(e,r,n){"use strict";n.r(r);var t=n(2),o=n.n(t),s=n(0),i=n.n(s),u=n(5),a=n.n(u),l=n(6),c=n.n(l),d=n(11),p=n(12),f=n(1),g=n(4),m=(n(14),n(15),n(16)),h=n(17),y=n(18),v=n(19),x=n(20),b=i()(),w=__dirname,q=o.a.join(w,"index.html"),O=a.a.devServer.proxy;g.connect("mongodb://masterveloute:Heyheyhey3@ds131747.mlab.com:31747/gameapp_react",{useNewUrlParser:!0}),n(21)(f),b.use(y("dev")),b.use(i.a.json()),b.use(m({secret:"dhfpaiojdhfopshdapfsapfoidnfopsangspd",resave:!1,saveUninitialized:!1})),b.use(v()),b.use(h({errorFormatter:function(e,r,n){for(var t=e.split("."),o=t.shift();t.length;)o+="[".concat(t.shift(),"]");return{param:o,msg:r,value:n}}})),b.use(historyApiFallback({verbose:!1})),b.use(f.initialize()),b.use(f.session()),O&&Object.keys(O).forEach(function(e){return b.use(c()(e,O[e]))}),b.use("/authLocal",d),b.use("/user",p),b.use(i.a.static(w)),b.use(x()),b.get("*",function(e,r){r.sendFile(q)});var S=process.env.PORT||8080;b.listen(S,function(){console.log("App listening to ".concat(S,"....")),console.log("Press Ctrl+C to quit.")})},function(e,r){e.exports=require("webpack")},function(e,r){e.exports=require("html-webpack-plugin")},function(e,r){e.exports=require("dotenv-webpack")},function(e,r,n){var t=n(0),o=n(1),s=t.Router();s.post("/signup",function(e,r,n){o.authenticate("local.signup",{failureFlash:!0},function(t,o,s){return t?n(t):o?void r.send(o.username):r.send({error:e.flash("signupErrors")})})(e,r,n)}),s.post("/signin",function(e,r,n){o.authenticate("local.signin",{failureFlash:!0},function(t,o,s){return t?n(t):o?void r.send(o.username):(console.log(o),r.send({error:e.flash("loginError")}))})(e,r,n)}),e.exports=s},function(e,r,n){var t=n(0).Router(),o=n(3);t.post("/addTo",function(e,r,n){console.log(e.body),o.find({username:e.body.userid},function(e,n){e?r.send("Something went wrong with mLab"):0===n.length?r.send("No user found"):console.log(n)})}),e.exports=t},function(e,r){e.exports=require("bcrypt")},function(e,r){e.exports=require("cookie-parser")},function(e,r){e.exports=require("body-parser")},function(e,r){e.exports=require("express-session")},function(e,r){e.exports=require("express-validator")},function(e,r){e.exports=require("morgan")},function(e,r){e.exports=require("connect-flash")},function(e,r){e.exports=require("cors")},function(e,r,n){n(1);var t=n(3),o=n(22).Strategy;e.exports=function(e){e.serializeUser(function(e,r){r(null,e.id)}),e.deserializeUser(function(e,r){t.findById(e,function(e,n){r(e,n)})}),e.use("local.signup",new o({usernameField:"username",passwordField:"password",passReqToCallback:!0},function(e,r,n,o){console.log("checking for if user exist");var s=e.body,i=s.email,u=s.address,a=s.city,l=s.state,c=s.zipcode;t.findOne({email:i},function(s,d){if(s)return o(s);if(d)return o(null,!1,e.flash("signupErrors","This email has been taken"));var p=new t;p.set({email:i,password:p.encryptPassword(n),username:r,address:u,city:a,state:l,zipcode:c}),p.save(function(e,r){return e?(console.log(e),o(e)):o(null,p)})})})),e.use("local.signin",new o({usernameField:"username",passwordField:"password",passReqToCallback:!0},function(e,r,n,o){t.findOne({username:r},function(r,t){return r?o(r):t?t.validPassword(n)?o(null,t):o(null,!1,e.flash("loginError","Incorrect password")):o(null,!1,e.flash("loginError","Incorrect username"))})}))}},function(e,r){e.exports=require("passport-local")}]);