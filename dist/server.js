!function(e){var n={};function r(o){if(n[o])return n[o].exports;var t=n[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=n,r.d=function(e,n,o){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var t in e)r.d(o,t,function(n){return e[n]}.bind(null,t));return o},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="/",r(r.s=6)}([function(e,n){e.exports=require("express")},function(e,n){e.exports=require("passport")},function(e,n){e.exports=require("path")},function(e,n,r){var o=r(4),t=o.Schema,s=r(14),i=new t({email:{type:String,required:!0},password:{type:String,required:!0},username:{type:String,required:!0},address:{type:String,required:!0},city:{type:String,required:!0},state:{type:String,required:!0},zipcode:{type:String,required:!0},cart:{type:Object},wishList:{type:Object}});i.methods.encryptPassword=function(e){return s.hashSync(e,s.genSaltSync(5),null)},i.methods.validPassword=function(e){return s.compareSync(e,this.password)},e.exports=o.model("User",i)},function(e,n){e.exports=require("mongoose")},function(e,n){e.exports=require("http-proxy-middleware")},function(e,n,r){"use strict";r.r(n);var o=r(2),t=r.n(o),s=r(0),i=r.n(s),u=(r(7),r(5)),a=r.n(u),l=r(12),c=r(13),p=r(1),d=r(4),f=(r(15),r(16),r(17)),g=r(18),m=r(19),h=r(20),y=r(21),x=i()(),b=__dirname,w=t.a.join(b,"index.html"),v={"/search":{target:"https://api-v3.igdb.com",ws:!1,changeOrigin:!0,logLevel:"debug",onProxyRes:function(e,n,r){e.headers["Allow-Access-Control-Origin"]="*"},onProxyReq:function(e,n,r){e.setHeader("Allow-Access-Control-Origin","*")}},"/games":{target:"https://api-v3.igdb.com",ws:!1,changeOrigin:!0,logLevel:"debug",onProxyRes:function(e,n,r){e.headers["Allow-Access-Control-Origin"]="*"},onProxyReq:function(e,n,r){e.setHeader("Allow-Access-Control-Origin","*")}}};d.connect("mongodb://masterveloute:Heyheyhey3@ds131747.mlab.com:31747/gameapp_react",{useNewUrlParser:!0}),r(22)(p),x.use(m("dev")),x.use(i.a.json()),x.use(f({secret:"dhfpaiojdhfopshdapfsapfoidnfopsangspd",resave:!1,saveUninitialized:!1})),x.use(h()),x.use(g({errorFormatter:function(e,n,r){for(var o=e.split("."),t=o.shift();o.length;)t+="[".concat(o.shift(),"]");return{param:t,msg:n,value:r}}})),x.use(historyApiFallback({verbose:!1})),x.use(p.initialize()),x.use(p.session()),v&&Object.keys(v).forEach(function(e){return x.use(a()(e,v[e]))}),x.use("/authLocal",l),x.use("/user",c),x.use(i.a.static(b)),x.use(y()),x.get("*",function(e,n){n.sendFile(w)});var q=process.env.PORT||8080;x.listen(q,function(){console.log("App listening to ".concat(q,"....")),console.log("Press Ctrl+C to quit.")})},function(e,n,r){var o=r(2),t=r(8),s=r(9),i=r(10),u=r(11);e.exports={entry:{main:"./src/index.js"},output:{path:o.join(__dirname,"dist"),publicPath:"/",filename:"[name].js"},target:"web",devtool:"#source-map",optimization:{minimizer:[new i({cache:!0,parallel:!0,sourceMap:!0}),new u({})]},module:{rules:[{test:/\.js$/,exclude:/node_modules/,use:{loader:"babel-loader"}},{test:/\.html$/,use:[{loader:"html-loader",options:{minimize:!0}}]},{test:/\.jpg$/,use:[{loader:"url-loader"}]},{test:/\.css$/,use:[s.loader,"css-loader"]}]},devServer:{noInfo:!0,historyApiFallback:!0,proxy:{"/search":{target:"https://api-v3.igdb.com",ws:!1,changeOrigin:!0,logLevel:"debug",onProxyRes:function(e,n,r){e.headers["Allow-Access-Control-Origin"]="*"},onProxyReq:function(e,n,r){e.setHeader("Allow-Access-Control-Origin","*")}},"/games":{target:"https://api-v3.igdb.com",ws:!1,changeOrigin:!0,logLevel:"debug",onProxyRes:function(e,n,r){e.headers["Allow-Access-Control-Origin"]="*"},onProxyReq:function(e,n,r){e.setHeader("Allow-Access-Control-Origin","*")}}}},plugins:[new t({template:"./src/html/index.html",filename:"./index.html"}),new s({filename:"[name].css",chunkFilename:"[id].css"})]}},function(e,n){e.exports=require("html-webpack-plugin")},function(e,n){e.exports=require("mini-css-extract-plugin")},function(e,n){e.exports=require("uglifyjs-webpack-plugin")},function(e,n){e.exports=require("optimize-css-assets-webpack-plugin")},function(e,n,r){var o=r(0),t=r(1),s=o.Router();s.post("/signup",function(e,n,r){t.authenticate("local.signup",{failureFlash:!0},function(o,t,s){return o?r(o):t?void n.send(t.username):n.send({error:e.flash("signupErrors")})})(e,n,r)}),s.post("/signin",function(e,n,r){t.authenticate("local.signin",{failureFlash:!0},function(o,t,s){return o?r(o):t?void n.send(t.username):(console.log(t),n.send({error:e.flash("loginError")}))})(e,n,r)}),e.exports=s},function(e,n,r){var o=r(0).Router(),t=r(3);o.post("/addTo",function(e,n,r){console.log(e.body),t.find({username:e.body.userid},function(e,r){e?n.send("Something went wrong with mLab"):0===r.length?n.send("No user found"):console.log(r)})}),e.exports=o},function(e,n){e.exports=require("bcrypt")},function(e,n){e.exports=require("cookie-parser")},function(e,n){e.exports=require("body-parser")},function(e,n){e.exports=require("express-session")},function(e,n){e.exports=require("express-validator")},function(e,n){e.exports=require("morgan")},function(e,n){e.exports=require("connect-flash")},function(e,n){e.exports=require("cors")},function(e,n,r){r(1);var o=r(3),t=r(23).Strategy;e.exports=function(e){e.serializeUser(function(e,n){n(null,e.id)}),e.deserializeUser(function(e,n){o.findById(e,function(e,r){n(e,r)})}),e.use("local.signup",new t({usernameField:"username",passwordField:"password",passReqToCallback:!0},function(e,n,r,t){console.log("checking for if user exist");var s=e.body,i=s.email,u=s.address,a=s.city,l=s.state,c=s.zipcode;o.findOne({email:i},function(s,p){if(s)return t(s);if(p)return t(null,!1,e.flash("signupErrors","This email has been taken"));var d=new o;d.set({email:i,password:d.encryptPassword(r),username:n,address:u,city:a,state:l,zipcode:c}),d.save(function(e,n){return e?(console.log(e),t(e)):t(null,d)})})})),e.use("local.signin",new t({usernameField:"username",passwordField:"password",passReqToCallback:!0},function(e,n,r,t){o.findOne({username:n},function(n,o){return n?t(n):o?o.validPassword(r)?t(null,o):t(null,!1,e.flash("loginError","Incorrect password")):t(null,!1,e.flash("loginError","Incorrect username"))})}))}},function(e,n){e.exports=require("passport-local")}]);